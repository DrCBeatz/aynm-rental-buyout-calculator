<!-- src/index.html -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self';">
  <title>AYNM Instrument Rental Buyout Calculator</title>
  <link rel="stylesheet" href="styles.css">
  <script defer type="module" src="script.js"></script>
</head>

<body>

  <header class="navbar">
    <h1 class="navbar__title">AYNM Instrument Rental Buyout Calculator</h1>
  </header>

  <main class="form">
    <form id="calculatorForm">
      <div class="form__group">
        <label for="purchasePrice" class="form__label">Purchase Price ($)</label>
        <input type="number" id="purchasePrice" class="form__input show_always" step="0.01" min="0" required
          title="Enter the full price of the instrument (plus added accessories) if purchased outright.">
      </div>
      <div class="form__group">
        <label for="monthlyPayment" class="form__label">Monthly Payment (Pre-tax) ($)</label>
        <input type="number" id="monthlyPayment" class="form__input " step="0.01" min="0" required
          title="Enter the monthly payment amount (before tax) for renting the instrument.">
      </div>
      <div class="form__group">
        <label for="monthsRented" class="form__label">Months Rented</label>
        <input type="number" id="monthsRented" class="form__input show_always" min="0" required
          title="Enter the total number of months the instrument has been rented so far.">
      </div>
      <div class="form__group">
        <label for="deposit" class="form__label">Deposit (Tax-Included) ($)</label>
        <input type="number" id="deposit" class="form__input show_always" step="0.01" min="0" required
          title="Enter the security deposit amount paid when first renting the instrument.">
      </div>
      <div class="form__group">
        <label for="province" class="form__label">Province (Tax Rate)</label>
        <select id="province" class="form__select" required
          title="Select the customer's province to apply the correct tax rate for the buyout."></select>
      </div>
      <button type="submit" class="form__button" aria-label="Calculate the balance owing">Calculate</button>
    </form>
  </main>

  <aside id="result" class="result">
    <table class="result__table">
      <tr title="Portion of the rental payments credited towards purchase.">
        <td class="result__label" id="rentalPaymentLabel">Rental Payment Credit:</td>
        <td id="rentalPaymentCredit" aria-labelledby="rentalPaymentLabel"></td>
      </tr>
      <tr title="Portion of the deposit (excluding tax) credited towards purchase.">
        <td class="result__label" id="depositCreditLabel">Deposit Credit (pre-tax):</td>
        <td id="depositCredit" aria-labelledby="depositCreditLabel"></td>
      </tr>
      <tr title="Calculated credit based on the number of months rented and the deposit.">
        <td class="result__label" id="totalCreditLabel">Total Credit Amount:</td>
        <td id="totalCredit" aria-labelledby="totalCreditLabel"></td>
      </tr>
      <tr title="Remaining amount owed, excluding tax, after applying credit.">
        <td class="result__label" id="balanceOwingLabel">Balance Owing (before tax):</td>
        <td id="balanceOwing" aria-labelledby="balanceOwingLabel"></td>
      </tr>
      <tr title="Total amount owed, including tax.">
        <td class="result__label" id="balanceOwingWithTaxLabel" >Balance Owing (including tax):</td>
        <td id="balanceOwingWithTax" aria-labelledby="balanceOwingWithTaxLabel"></td>
      </tr>
    </table>
  </aside>

</body>

</html>
